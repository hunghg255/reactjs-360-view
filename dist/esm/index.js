import{jsx as t,jsxs as e}from"react/jsx-runtime";import n,{Component as i}from"react";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},r(t,e)};function o(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return s=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},s.apply(this,arguments)};function a(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var c,u={exports:{}};
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */c=u,function(t,e,n,i){var r,o=["","webkit","Moz","MS","ms","o"],s=e.createElement("div"),a="function",u=Math.round,l=Math.abs,h=Date.now;function p(t,e,n){return setTimeout(E(t,n),e)}function f(t,e,n){return!!Array.isArray(t)&&(d(t,n[e],n),!0)}function d(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==i)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function v(e,n,i){var r="DEPRECATED METHOD: "+n+"\n"+i+" AT \n";return function(){var n=new Error("get-stack-trace"),i=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=t.console&&(t.console.warn||t.console.log);return o&&o.call(t.console,r,i),e.apply(this,arguments)}}r="function"!=typeof Object.assign?function(t){if(t===i||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==i&&null!==r)for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])}return e}:Object.assign;var m=v((function(t,e,n){for(var r=Object.keys(e),o=0;o<r.length;)(!n||n&&t[r[o]]===i)&&(t[r[o]]=e[r[o]]),o++;return t}),"extend","Use `assign`."),g=v((function(t,e){return m(t,e,!0)}),"merge","Use `assign`.");function y(t,e,n){var i,o=e.prototype;(i=t.prototype=Object.create(o)).constructor=t,i._super=o,n&&r(i,n)}function E(t,e){return function(){return t.apply(e,arguments)}}function b(t,e){return typeof t==a?t.apply(e&&e[0]||i,e):t}function w(t,e){return t===i?e:t}function T(t,e,n){d(x(e),(function(e){t.addEventListener(e,n,!1)}))}function S(t,e,n){d(x(e),(function(e){t.removeEventListener(e,n,!1)}))}function I(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function P(t,e){return t.indexOf(e)>-1}function x(t){return t.trim().split(/\s+/g)}function O(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function C(t){return Array.prototype.slice.call(t,0)}function R(t,e,n){for(var i=[],r=[],o=0;o<t.length;){var s=e?t[o][e]:t[o];O(r,s)<0&&i.push(t[o]),r[o]=s,o++}return n&&(i=e?i.sort((function(t,n){return t[e]>n[e]})):i.sort()),i}function D(t,e){for(var n,r,s=e[0].toUpperCase()+e.slice(1),a=0;a<o.length;){if((r=(n=o[a])?n+s:e)in t)return r;a++}return i}var M=1;function L(e){var n=e.ownerDocument||e;return n.defaultView||n.parentWindow||t}var _="ontouchstart"in t,A=D(t,"PointerEvent")!==i,N=_&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),k="touch",j="mouse",z=25,F=1,Y=4,$=8,X=1,W=2,V=4,q=8,U=16,H=W|V,G=q|U,B=H|G,Z=["x","y"],J=["clientX","clientY"];function K(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){b(t.options.enable,[t])&&n.handler(e)},this.init()}function Q(t,e,n){var r=n.pointers.length,o=n.changedPointers.length,s=e&F&&r-o==0,a=e&(Y|$)&&r-o==0;n.isFirst=!!s,n.isFinal=!!a,s&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,r=e.pointers,o=r.length;n.firstInput||(n.firstInput=tt(e)),o>1&&!n.firstMultiple?n.firstMultiple=tt(e):1===o&&(n.firstMultiple=!1);var s=n.firstInput,a=n.firstMultiple,c=a?a.center:s.center,u=e.center=et(r);e.timeStamp=h(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=ot(c,u),e.distance=rt(c,u),function(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};e.eventType!==F&&o.eventType!==Y||(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}(n,e),e.offsetDirection=it(e.deltaX,e.deltaY);var p,f,d=nt(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=d.x,e.overallVelocityY=d.y,e.overallVelocity=l(d.x)>l(d.y)?d.x:d.y,e.scale=a?(p=a.pointers,rt((f=r)[0],f[1],J)/rt(p[0],p[1],J)):1,e.rotation=a?function(t,e){return ot(e[1],e[0],J)+ot(t[1],t[0],J)}(a.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,r,o,s,a=t.lastInterval||e,c=e.timeStamp-a.timeStamp;if(e.eventType!=$&&(c>z||a.velocity===i)){var u=e.deltaX-a.deltaX,h=e.deltaY-a.deltaY,p=nt(c,u,h);r=p.x,o=p.y,n=l(p.x)>l(p.y)?p.x:p.y,s=it(u,h),t.lastInterval=e}else n=a.velocity,r=a.velocityX,o=a.velocityY,s=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=o,e.direction=s}(n,e);var v=t.element;I(e.srcEvent.target,v)&&(v=e.srcEvent.target),e.target=v}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function tt(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:u(t.pointers[n].clientX),clientY:u(t.pointers[n].clientY)},n++;return{timeStamp:h(),pointers:e,center:et(e),deltaX:t.deltaX,deltaY:t.deltaY}}function et(t){var e=t.length;if(1===e)return{x:u(t[0].clientX),y:u(t[0].clientY)};for(var n=0,i=0,r=0;r<e;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:u(n/e),y:u(i/e)}}function nt(t,e,n){return{x:e/t||0,y:n/t||0}}function it(t,e){return t===e?X:l(t)>=l(e)?t<0?W:V:e<0?q:U}function rt(t,e,n){n||(n=Z);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function ot(t,e,n){n||(n=Z);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return 180*Math.atan2(r,i)/Math.PI}K.prototype={handler:function(){},init:function(){this.evEl&&T(this.element,this.evEl,this.domHandler),this.evTarget&&T(this.target,this.evTarget,this.domHandler),this.evWin&&T(L(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(L(this.element),this.evWin,this.domHandler)}};var st={mousedown:F,mousemove:2,mouseup:Y},at="mousedown",ct="mousemove mouseup";function ut(){this.evEl=at,this.evWin=ct,this.pressed=!1,K.apply(this,arguments)}y(ut,K,{handler:function(t){var e=st[t.type];e&F&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=Y),this.pressed&&(e&Y&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:j,srcEvent:t}))}});var lt={pointerdown:F,pointermove:2,pointerup:Y,pointercancel:$,pointerout:$},ht={2:k,3:"pen",4:j,5:"kinect"},pt="pointerdown",ft="pointermove pointerup pointercancel";function dt(){this.evEl=pt,this.evWin=ft,K.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}t.MSPointerEvent&&!t.PointerEvent&&(pt="MSPointerDown",ft="MSPointerMove MSPointerUp MSPointerCancel"),y(dt,K,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=lt[i],o=ht[t.pointerType]||t.pointerType,s=o==k,a=O(e,t.pointerId,"pointerId");r&F&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):r&(Y|$)&&(n=!0),a<0||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(a,1))}});var vt={touchstart:F,touchmove:2,touchend:Y,touchcancel:$};function mt(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,K.apply(this,arguments)}function gt(t,e){var n=C(t.touches),i=C(t.changedTouches);return e&(Y|$)&&(n=R(n.concat(i),"identifier",!0)),[n,i]}y(mt,K,{handler:function(t){var e=vt[t.type];if(e===F&&(this.started=!0),this.started){var n=gt.call(this,t,e);e&(Y|$)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:k,srcEvent:t})}}});var yt={touchstart:F,touchmove:2,touchend:Y,touchcancel:$},Et="touchstart touchmove touchend touchcancel";function bt(){this.evTarget=Et,this.targetIds={},K.apply(this,arguments)}function wt(t,e){var n=C(t.touches),i=this.targetIds;if(e&(2|F)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,s=C(t.changedTouches),a=[],c=this.target;if(o=n.filter((function(t){return I(t.target,c)})),e===F)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<s.length;)i[s[r].identifier]&&a.push(s[r]),e&(Y|$)&&delete i[s[r].identifier],r++;return a.length?[R(o.concat(a),"identifier",!0),a]:void 0}y(bt,K,{handler:function(t){var e=yt[t.type],n=wt.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:k,srcEvent:t})}});var Tt=2500;function St(){K.apply(this,arguments);var t=E(this.handler,this);this.touch=new bt(this.manager,t),this.mouse=new ut(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function It(t,e){t&F?(this.primaryTouch=e.changedPointers[0].identifier,Pt.call(this,e)):t&(Y|$)&&Pt.call(this,e)}function Pt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var i=this.lastTouches;setTimeout((function(){var t=i.indexOf(n);t>-1&&i.splice(t,1)}),Tt)}}function xt(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(e-r.x),s=Math.abs(n-r.y);if(o<=25&&s<=25)return!0}return!1}y(St,K,{handler:function(t,e,n){var i=n.pointerType==k,r=n.pointerType==j;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)It.call(this,e,n);else if(r&&xt.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ot=D(s.style,"touchAction"),Ct=Ot!==i,Rt="compute",Dt="auto",Mt="manipulation",Lt="none",_t="pan-x",At="pan-y",Nt=function(){if(!Ct)return!1;var e={},n=t.CSS&&t.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(i){e[i]=!n||t.CSS.supports("touch-action",i)})),e}();function kt(t,e){this.manager=t,this.set(e)}kt.prototype={set:function(t){t==Rt&&(t=this.compute()),Ct&&this.manager.element.style&&Nt[t]&&(this.manager.element.style[Ot]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return d(this.manager.recognizers,(function(e){b(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(P(t,Lt))return Lt;var e=P(t,_t),n=P(t,At);return e&&n?Lt:e||n?e?_t:At:P(t,Mt)?Mt:Dt}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var i=this.actions,r=P(i,Lt)&&!Nt[Lt],o=P(i,At)&&!Nt[At],s=P(i,_t)&&!Nt[_t];if(r){var a=1===t.pointers.length,c=t.distance<2,u=t.deltaTime<250;if(a&&c&&u)return}if(!s||!o)return r||o&&n&H||s&&n&G?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var jt=1,zt=32;function Ft(t){this.options=r({},this.defaults,t||{}),this.id=M++,this.manager=null,this.options.enable=w(this.options.enable,!0),this.state=jt,this.simultaneous={},this.requireFail=[]}function Yt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function $t(t){return t==U?"down":t==q?"up":t==W?"left":t==V?"right":""}function Xt(t,e){var n=e.manager;return n?n.get(t):t}function Wt(){Ft.apply(this,arguments)}function Vt(){Wt.apply(this,arguments),this.pX=null,this.pY=null}function qt(){Wt.apply(this,arguments)}function Ut(){Ft.apply(this,arguments),this._timer=null,this._input=null}function Ht(){Wt.apply(this,arguments)}function Gt(){Wt.apply(this,arguments)}function Bt(){Ft.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Zt(t,e){return(e=e||{}).recognizers=w(e.recognizers,Zt.defaults.preset),new Jt(t,e)}function Jt(t,e){var n;this.options=r({},Zt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(A?dt:N?bt:_?St:ut))(n,Q),this.touchAction=new kt(this,this.options.touchAction),Kt(this,!0),d(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function Kt(t,e){var n,i=t.element;i.style&&(d(t.options.cssProps,(function(r,o){n=D(i.style,o),e?(t.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}Ft.prototype={defaults:{},set:function(t){return r(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(f(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Xt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return f(t,"dropRecognizeWith",this)||(t=Xt(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(f(t,"requireFailure",this))return this;var e=this.requireFail;return-1===O(e,t=Xt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(f(t,"dropRequireFailure",this))return this;t=Xt(t,this);var e=O(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function i(n){e.manager.emit(n,t)}n<8&&i(e.options.event+Yt(n)),i(e.options.event),t.additionalEvent&&i(t.additionalEvent),n>=8&&i(e.options.event+Yt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=zt},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(zt|jt)))return!1;t++}return!0},recognize:function(t){var e=r({},t);if(!b(this.options.enable,[this,e]))return this.reset(),void(this.state=zt);56&this.state&&(this.state=jt),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},y(Wt,Ft,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=6&e,r=this.attrTest(t);return i&&(n&$||!r)?16|e:i||r?n&Y?8|e:2&e?4|e:2:zt}}),y(Vt,Wt,{defaults:{event:"pan",threshold:10,pointers:1,direction:B},getTouchAction:function(){var t=this.options.direction,e=[];return t&H&&e.push(At),t&G&&e.push(_t),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,o=t.deltaX,s=t.deltaY;return r&e.direction||(e.direction&H?(r=0===o?X:o<0?W:V,n=o!=this.pX,i=Math.abs(t.deltaX)):(r=0===s?X:s<0?q:U,n=s!=this.pY,i=Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},attrTest:function(t){return Wt.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=$t(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),y(qt,Wt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Lt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),y(Ut,Ft,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Dt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime>e.time;if(this._input=t,!i||!n||t.eventType&(Y|$)&&!r)this.reset();else if(t.eventType&F)this.reset(),this._timer=p((function(){this.state=8,this.tryEmit()}),e.time,this);else if(t.eventType&Y)return 8;return zt},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&t.eventType&Y?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=h(),this.manager.emit(this.options.event,this._input)))}}),y(Ht,Wt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Lt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),y(Gt,Wt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:H|G,pointers:1},getTouchAction:function(){return Vt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(H|G)?e=t.overallVelocity:n&H?e=t.overallVelocityX:n&G&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&l(e)>this.options.velocity&&t.eventType&Y},emit:function(t){var e=$t(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),y(Bt,Ft,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Mt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime<e.time;if(this.reset(),t.eventType&F&&0===this.count)return this.failTimeout();if(i&&r&&n){if(t.eventType!=Y)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,s=!this.pCenter||rt(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,s&&o?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=p((function(){this.state=8,this.tryEmit()}),e.interval,this),2):8}return zt},failTimeout:function(){return this._timer=p((function(){this.state=zt}),this.options.interval,this),zt},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Zt.VERSION="2.0.7",Zt.defaults={domEvents:!1,touchAction:Rt,enable:!0,inputTarget:null,inputClass:null,preset:[[Ht,{enable:!1}],[qt,{enable:!1},["rotate"]],[Gt,{direction:H}],[Vt,{direction:H},["swipe"]],[Bt],[Bt,{event:"doubletap",taps:2},["tap"]],[Ut]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Jt.prototype={set:function(t){return r(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var i=this.recognizers,r=e.curRecognizer;(!r||r&&8&r.state)&&(r=e.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],2===e.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&14&n.state&&(r=e.curRecognizer=n),o++}},get:function(t){if(t instanceof Ft)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(f(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(f(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=O(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==i&&e!==i){var n=this.handlers;return d(x(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this}},off:function(t,e){if(t!==i){var n=this.handlers;return d(x(t),(function(t){e?n[t]&&n[t].splice(O(n[t],e),1):delete n[t]})),this}},emit:function(t,n){this.options.domEvents&&function(t,n){var i=e.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=n,n.target.dispatchEvent(i)}(t,n);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){n.type=t,n.preventDefault=function(){n.srcEvent.preventDefault()};for(var r=0;r<i.length;)i[r](n),r++}},destroy:function(){this.element&&Kt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},r(Zt,{INPUT_START:F,INPUT_MOVE:2,INPUT_END:Y,INPUT_CANCEL:$,STATE_POSSIBLE:jt,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:zt,DIRECTION_NONE:X,DIRECTION_LEFT:W,DIRECTION_RIGHT:V,DIRECTION_UP:q,DIRECTION_DOWN:U,DIRECTION_HORIZONTAL:H,DIRECTION_VERTICAL:G,DIRECTION_ALL:B,Manager:Jt,Input:K,TouchAction:kt,TouchInput:bt,MouseInput:ut,PointerEventInput:dt,TouchMouseInput:St,SingleTouchInput:mt,Recognizer:Ft,AttrRecognizer:Wt,Tap:Bt,Pan:Vt,Swipe:Gt,Pinch:qt,Rotate:Ht,Press:Ut,on:T,off:S,each:d,merge:g,extend:m,assign:r,inherit:y,bindFn:E,prefixed:D}),(void 0!==t?t:"undefined"!=typeof self?self:{}).Hammer=Zt,"function"==typeof i&&i.amd?i((function(){return Zt})):c.exports?c.exports=Zt:t.Hammer=Zt}(window,document);var l,h=a(u.exports),p={exports:{}},f={exports:{}},d={};var v,m,g,y,E,b,w,T,S,I,P,x,O,C,R={};
/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function D(){return m||(m=1,"production"===process.env.NODE_ENV?f.exports=function(){if(l)return d;l=1;var t="function"==typeof Symbol&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,i=t?Symbol.for("react.fragment"):60107,r=t?Symbol.for("react.strict_mode"):60108,o=t?Symbol.for("react.profiler"):60114,s=t?Symbol.for("react.provider"):60109,a=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,u=t?Symbol.for("react.concurrent_mode"):60111,h=t?Symbol.for("react.forward_ref"):60112,p=t?Symbol.for("react.suspense"):60113,f=t?Symbol.for("react.suspense_list"):60120,v=t?Symbol.for("react.memo"):60115,m=t?Symbol.for("react.lazy"):60116,g=t?Symbol.for("react.block"):60121,y=t?Symbol.for("react.fundamental"):60117,E=t?Symbol.for("react.responder"):60118,b=t?Symbol.for("react.scope"):60119;function w(t){if("object"==typeof t&&null!==t){var l=t.$$typeof;switch(l){case e:switch(t=t.type){case c:case u:case i:case o:case r:case p:return t;default:switch(t=t&&t.$$typeof){case a:case h:case m:case v:case s:return t;default:return l}}case n:return l}}}function T(t){return w(t)===u}return d.AsyncMode=c,d.ConcurrentMode=u,d.ContextConsumer=a,d.ContextProvider=s,d.Element=e,d.ForwardRef=h,d.Fragment=i,d.Lazy=m,d.Memo=v,d.Portal=n,d.Profiler=o,d.StrictMode=r,d.Suspense=p,d.isAsyncMode=function(t){return T(t)||w(t)===c},d.isConcurrentMode=T,d.isContextConsumer=function(t){return w(t)===a},d.isContextProvider=function(t){return w(t)===s},d.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===e},d.isForwardRef=function(t){return w(t)===h},d.isFragment=function(t){return w(t)===i},d.isLazy=function(t){return w(t)===m},d.isMemo=function(t){return w(t)===v},d.isPortal=function(t){return w(t)===n},d.isProfiler=function(t){return w(t)===o},d.isStrictMode=function(t){return w(t)===r},d.isSuspense=function(t){return w(t)===p},d.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===i||t===u||t===o||t===r||t===p||t===f||"object"==typeof t&&null!==t&&(t.$$typeof===m||t.$$typeof===v||t.$$typeof===s||t.$$typeof===a||t.$$typeof===h||t.$$typeof===y||t.$$typeof===E||t.$$typeof===b||t.$$typeof===g)},d.typeOf=w,d}():f.exports=(v||(v=1,"production"!==process.env.NODE_ENV&&function(){var t="function"==typeof Symbol&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,i=t?Symbol.for("react.fragment"):60107,r=t?Symbol.for("react.strict_mode"):60108,o=t?Symbol.for("react.profiler"):60114,s=t?Symbol.for("react.provider"):60109,a=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,u=t?Symbol.for("react.concurrent_mode"):60111,l=t?Symbol.for("react.forward_ref"):60112,h=t?Symbol.for("react.suspense"):60113,p=t?Symbol.for("react.suspense_list"):60120,f=t?Symbol.for("react.memo"):60115,d=t?Symbol.for("react.lazy"):60116,v=t?Symbol.for("react.block"):60121,m=t?Symbol.for("react.fundamental"):60117,g=t?Symbol.for("react.responder"):60118,y=t?Symbol.for("react.scope"):60119;function E(t){if("object"==typeof t&&null!==t){var p=t.$$typeof;switch(p){case e:var v=t.type;switch(v){case c:case u:case i:case o:case r:case h:return v;default:var m=v&&v.$$typeof;switch(m){case a:case l:case d:case f:case s:return m;default:return p}}case n:return p}}}var b=c,w=u,T=a,S=s,I=e,P=l,x=i,O=d,C=f,D=n,M=o,L=r,_=h,A=!1;function N(t){return E(t)===u}R.AsyncMode=b,R.ConcurrentMode=w,R.ContextConsumer=T,R.ContextProvider=S,R.Element=I,R.ForwardRef=P,R.Fragment=x,R.Lazy=O,R.Memo=C,R.Portal=D,R.Profiler=M,R.StrictMode=L,R.Suspense=_,R.isAsyncMode=function(t){return A||(A=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),N(t)||E(t)===c},R.isConcurrentMode=N,R.isContextConsumer=function(t){return E(t)===a},R.isContextProvider=function(t){return E(t)===s},R.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===e},R.isForwardRef=function(t){return E(t)===l},R.isFragment=function(t){return E(t)===i},R.isLazy=function(t){return E(t)===d},R.isMemo=function(t){return E(t)===f},R.isPortal=function(t){return E(t)===n},R.isProfiler=function(t){return E(t)===o},R.isStrictMode=function(t){return E(t)===r},R.isSuspense=function(t){return E(t)===h},R.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===i||t===u||t===o||t===r||t===h||t===p||"object"==typeof t&&null!==t&&(t.$$typeof===d||t.$$typeof===f||t.$$typeof===s||t.$$typeof===a||t.$$typeof===l||t.$$typeof===m||t.$$typeof===g||t.$$typeof===y||t.$$typeof===v)},R.typeOf=E}()),R)),f.exports}
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/function M(){if(y)return g;y=1;var t=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;return g=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(t){i[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(i,r){for(var o,s,a=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(i),c=1;c<arguments.length;c++){for(var u in o=Object(arguments[c]))e.call(o,u)&&(a[u]=o[u]);if(t){s=t(o);for(var l=0;l<s.length;l++)n.call(o,s[l])&&(a[s[l]]=o[s[l]])}}return a},g}function L(){if(b)return E;b=1;return E="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}function _(){return T?w:(T=1,w=Function.call.bind(Object.prototype.hasOwnProperty))}if("production"!==process.env.NODE_ENV){var A=D();p.exports=function(){if(x)return P;x=1;var t=D(),e=M(),n=L(),i=_(),r=function(){if(I)return S;I=1;var t=function(){};if("production"!==process.env.NODE_ENV){var e=L(),n={},i=_();t=function(t){var e="Warning: "+t;"undefined"!=typeof console&&console.error(e);try{throw new Error(e)}catch(t){}}}function r(r,o,s,a,c){if("production"!==process.env.NODE_ENV)for(var u in r)if(i(r,u)){var l;try{if("function"!=typeof r[u]){var h=Error((a||"React class")+": "+s+" type `"+u+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof r[u]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw h.name="Invariant Violation",h}l=r[u](o,u,a,s,null,e)}catch(t){l=t}if(!l||l instanceof Error||t((a||"React class")+": type specification of "+s+" `"+u+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof l+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),l instanceof Error&&!(l.message in n)){n[l.message]=!0;var p=c?c():"";t("Failed "+s+" type: "+l.message+(null!=p?p:""))}}}return r.resetWarningCache=function(){"production"!==process.env.NODE_ENV&&(n={})},S=r}(),o=function(){};function s(){return null}return"production"!==process.env.NODE_ENV&&(o=function(t){var e="Warning: "+t;"undefined"!=typeof console&&console.error(e);try{throw new Error(e)}catch(t){}}),P=function(a,c){var u="function"==typeof Symbol&&Symbol.iterator,l="@@iterator",h="<<anonymous>>",p={array:m("array"),bigint:m("bigint"),bool:m("boolean"),func:m("function"),number:m("number"),object:m("object"),string:m("string"),symbol:m("symbol"),any:v(s),arrayOf:function(t){return v((function(e,i,r,o,s){if("function"!=typeof t)return new d("Property `"+s+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var a=e[i];if(!Array.isArray(a))return new d("Invalid "+o+" `"+s+"` of type `"+E(a)+"` supplied to `"+r+"`, expected an array.");for(var c=0;c<a.length;c++){var u=t(a,c,r,o,s+"["+c+"]",n);if(u instanceof Error)return u}return null}))},element:v((function(t,e,n,i,r){var o=t[e];return a(o)?null:new d("Invalid "+i+" `"+r+"` of type `"+E(o)+"` supplied to `"+n+"`, expected a single ReactElement.")})),elementType:v((function(e,n,i,r,o){var s=e[n];return t.isValidElementType(s)?null:new d("Invalid "+r+" `"+o+"` of type `"+E(s)+"` supplied to `"+i+"`, expected a single ReactElement type.")})),instanceOf:function(t){return v((function(e,n,i,r,o){if(!(e[n]instanceof t)){var s=t.name||h;return new d("Invalid "+r+" `"+o+"` of type `"+((a=e[n]).constructor&&a.constructor.name?a.constructor.name:h)+"` supplied to `"+i+"`, expected instance of `"+s+"`.")}var a;return null}))},node:v((function(t,e,n,i,r){return y(t[e])?null:new d("Invalid "+i+" `"+r+"` supplied to `"+n+"`, expected a ReactNode.")})),objectOf:function(t){return v((function(e,r,o,s,a){if("function"!=typeof t)return new d("Property `"+a+"` of component `"+o+"` has invalid PropType notation inside objectOf.");var c=e[r],u=E(c);if("object"!==u)return new d("Invalid "+s+" `"+a+"` of type `"+u+"` supplied to `"+o+"`, expected an object.");for(var l in c)if(i(c,l)){var h=t(c,l,o,s,a+"."+l,n);if(h instanceof Error)return h}return null}))},oneOf:function(t){return Array.isArray(t)?v((function(e,n,i,r,o){for(var s=e[n],a=0;a<t.length;a++)if(f(s,t[a]))return null;var c=JSON.stringify(t,(function(t,e){return"symbol"===b(e)?String(e):e}));return new d("Invalid "+r+" `"+o+"` of value `"+String(s)+"` supplied to `"+i+"`, expected one of "+c+".")})):("production"!==process.env.NODE_ENV&&o(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),s)},oneOfType:function(t){if(!Array.isArray(t))return"production"!==process.env.NODE_ENV&&o("Invalid argument supplied to oneOfType, expected an instance of array."),s;for(var e=0;e<t.length;e++){var r=t[e];if("function"!=typeof r)return o("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+w(r)+" at index "+e+"."),s}return v((function(e,r,o,s,a){for(var c=[],u=0;u<t.length;u++){var l=(0,t[u])(e,r,o,s,a,n);if(null==l)return null;l.data&&i(l.data,"expectedType")&&c.push(l.data.expectedType)}return new d("Invalid "+s+" `"+a+"` supplied to `"+o+"`"+(c.length>0?", expected one of type ["+c.join(", ")+"]":"")+".")}))},shape:function(t){return v((function(e,i,r,o,s){var a=e[i],c=E(a);if("object"!==c)return new d("Invalid "+o+" `"+s+"` of type `"+c+"` supplied to `"+r+"`, expected `object`.");for(var u in t){var l=t[u];if("function"!=typeof l)return g(r,o,s,u,b(l));var h=l(a,u,r,o,s+"."+u,n);if(h)return h}return null}))},exact:function(t){return v((function(r,o,s,a,c){var u=r[o],l=E(u);if("object"!==l)return new d("Invalid "+a+" `"+c+"` of type `"+l+"` supplied to `"+s+"`, expected `object`.");var h=e({},r[o],t);for(var p in h){var f=t[p];if(i(t,p)&&"function"!=typeof f)return g(s,a,c,p,b(f));if(!f)return new d("Invalid "+a+" `"+c+"` key `"+p+"` supplied to `"+s+"`.\nBad object: "+JSON.stringify(r[o],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(t),null,"  "));var v=f(u,p,s,a,c+"."+p,n);if(v)return v}return null}))}};function f(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function d(t,e){this.message=t,this.data=e&&"object"==typeof e?e:{},this.stack=""}function v(t){if("production"!==process.env.NODE_ENV)var e={},i=0;function r(r,s,a,u,l,p,f){if(u=u||h,p=p||a,f!==n){if(c){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}if("production"!==process.env.NODE_ENV&&"undefined"!=typeof console){var m=u+":"+a;!e[m]&&i<3&&(o("You are manually calling a React.PropTypes validation function for the `"+p+"` prop on `"+u+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),e[m]=!0,i++)}}return null==s[a]?r?null===s[a]?new d("The "+l+" `"+p+"` is marked as required in `"+u+"`, but its value is `null`."):new d("The "+l+" `"+p+"` is marked as required in `"+u+"`, but its value is `undefined`."):null:t(s,a,u,l,p)}var s=r.bind(null,!1);return s.isRequired=r.bind(null,!0),s}function m(t){return v((function(e,n,i,r,o,s){var a=e[n];return E(a)!==t?new d("Invalid "+r+" `"+o+"` of type `"+b(a)+"` supplied to `"+i+"`, expected `"+t+"`.",{expectedType:t}):null}))}function g(t,e,n,i,r){return new d((t||"React class")+": "+e+" type `"+n+"."+i+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+r+"`.")}function y(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(y);if(null===t||a(t))return!0;var e=function(t){var e=t&&(u&&t[u]||t[l]);if("function"==typeof e)return e}(t);if(!e)return!1;var n,i=e.call(t);if(e!==t.entries){for(;!(n=i.next()).done;)if(!y(n.value))return!1}else for(;!(n=i.next()).done;){var r=n.value;if(r&&!y(r[1]))return!1}return!0;default:return!1}}function E(t){var e=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":function(t,e){return"symbol"===t||!!e&&("Symbol"===e["@@toStringTag"]||"function"==typeof Symbol&&e instanceof Symbol)}(e,t)?"symbol":e}function b(t){if(null==t)return""+t;var e=E(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}function w(t){var e=b(t);switch(e){case"array":case"object":return"an "+e;case"boolean":case"date":case"regexp":return"a "+e;default:return e}}return d.prototype=Error.prototype,p.checkPropTypes=r,p.resetWarningCache=r.resetWarningCache,p.PropTypes=p,p},P}()(A.isElement,!0)}else p.exports=function(){if(C)return O;C=1;var t=L();function e(){}function n(){}return n.resetWarningCache=e,O=function(){function i(e,n,i,r,o,s){if(s!==t){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function r(){return i}i.isRequired=i;var o={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o}}()();for(var N=a(p.exports),k={children:!0,direction:!0,options:!0,recognizeWith:!0,vertical:!0},j={action:"tap press",onDoubleTap:"doubletap",onPan:"pan",onPanCancel:"pancancel",onPanEnd:"panend",onPanStart:"panstart",onPinch:"pinch",onPinchCancel:"pinchcancel",onPinchEnd:"pinchend",onPinchIn:"pinchin",onPinchOut:"pinchout",onPinchStart:"pinchstart",onPress:"press",onPressUp:"pressup",onRotate:"rotate",onRotateCancel:"rotatecancel",onRotateEnd:"rotateend",onRotateMove:"rotatemove",onRotateStart:"rotatestart",onSwipe:"swipe",onSwipeRight:"swiperight",onSwipeLeft:"swipeleft",onSwipeUp:"swipeup",onSwipeDown:"swipedown",onTap:"tap"},z=0,F=Object.keys(j);z<F.length;z++){var Y=F[z];k[Y]=!0}function $(t,e){e.hasOwnProperty("vertical")&&console.warn("vertical is deprecated, please use `direction` instead");var n=e.direction;if(n||e.hasOwnProperty("vertical")){var i=n||(e.vertical?"DIRECTION_ALL":"DIRECTION_HORIZONTAL");t.get("pan").set({direction:h[i]}),t.get("swipe").set({direction:h[i]})}e.options&&Object.keys(e.options).forEach((function(n){if("recognizers"===n)Object.keys(e.options.recognizers).forEach((function(n){var i=t.get(n);i.set(e.options.recognizers[n]),e.options.recognizers[n].requireFailure&&i.requireFailure(e.options.recognizers[n].requireFailure)}),this);else{var i={};i[n]=e.options[n],t.set(i)}}),this),e.recognizeWith&&Object.keys(e.recognizeWith).forEach((function(n){t.get(n).recognizeWith(e.recognizeWith[n])}),this);for(var r=0,o=Object.keys(e);r<o.length;r++){var s=o[r],a=j[s];a&&(t.off(a),t.on(a,e[s]))}}var X=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.componentDidMount=function(){this.hammer=new h(this.domElement),$(this.hammer,this.props)},e.prototype.componentDidUpdate=function(){this.hammer&&$(this.hammer,this.props)},e.prototype.componentWillUnmount=function(){this.hammer&&(this.hammer.stop(),this.hammer.destroy()),this.hammer=null},e.prototype.render=function(){var t={};Object.keys(this.props).forEach((function(e){k[e]||(t[e]=this.props[e])}),this);var e=this;return t.ref=function(t){e.props.ref&&e.props.ref(t),e.domElement=t},n.cloneElement(n.Children.only(this.props.children),t)},e.displayName="HammerComponent",e.propTypes={className:N.string},e}(n.Component),W=function(n){return e("div",s({className:"v360-menu-btns",onClick:n.clicked},{children:[t("i",{className:n.icon}),n.text]}))},V=function(i){function r(){var t=i.call(this)||this;return t.startDragging=function(e){t.dragging=!0,document.body.style.mozUserSelect=document.body.style.webkitUserSelect=document.body.style.userSelect="none",t.setLastPositions(e),t.dragStart=t.ctx.transformedPoint(t.state.lastX,t.state.lastY)},t.doDragging=function(e){if(t.setLastPositions(e),t.dragStart){var n=t.ctx.transformedPoint(t.state.lastX,t.state.lastY);t.ctx.translate(n.x-t.dragStart.x,n.y-t.dragStart.y),t.redraw()}},t.stopDragging=function(e){t.dragging=!1,t.dragStart=null},t.prev=function(e){t.props.spinReverse?t.turnRight():t.turnLeft()},t.next=function(e){t.props.spinReverse?t.turnLeft():t.turnRight()},t.resetPosition=function(){t.currentScale=1,t.activeImage=1,t.setImage(!0)},t.zoomImage=function(e){t.setState({lastX:e.offsetX||e.pageX-t.canvas.offsetLeft,lastY:e.offsetY||e.pageY-t.canvas.offsetTop});var n=e.wheelDelta?e.wheelDelta/40:e.deltaY?-e.deltaY:0;n&&t.zoom(n)},t.zoomIn=function(e){t.setState({lastX:t.centerX,lastY:t.centerY}),t.zoom(2)},t.zoomOut=function(e){t.setState({lastX:t.centerX,lastY:t.centerY}),t.zoom(-2)},t.startMoving=function(e){t.movement=!0,t.movementStart=e.pageX,t.viewPortElementRef.style.cursor="grabbing"},t.doMoving=function(e){t.movement&&t.onMove(e.clientX)},t.stopMoving=function(e){t.movement=!1,t.movementStart=0,t.viewPortElementRef.style.cursor="grab"},t.touchStart=function(e){t.movementStart=e.touches[0].clientX},t.touchMove=function(e){t.onMove(e.touches[0].clientX)},t.touchEnd=function(){t.movementStart=0},t.play=function(e){t.setState({loopTimeoutId:window.setInterval((function(){return t.loopImages()}),100)})},t.togglePlay=function(e){t.setState({playing:!t.state.playing})},t.togglePanMode=function(e){t.setState({panmode:!t.state.panmode})},t.toggleFullScreen=function(e){t.setState({isFullScreen:!t.state.isFullScreen})},t.handlePinch=function(e){e.scale<t.currentScale?t.zoomIn():e.scale>t.currentScale&&t.zoomOut()},t.pinchOut=function(){t.currentScale=1},t.viewPercentageRef=n.createRef(),t.viewPortElementRef=n.createRef(),t.canvas=null,t.ctx=null,t.isMobile=!1,t.imageData=[],t.images=[],t.loadedImages=0,t.viewerPercentage=null,t.currentImage=null,t.currentLeftPosition=t.currentTopPosition=0,t.currentCanvasImage=null,t.centerX=0,t.centerY=0,t.movementStart=0,t.movement=!1,t.speedFactor=13,t.activeImage=1,t.stopAtEdges=!1,t.state={lastX:0,lastY:0,minScale:.5,maxScale:4,scale:.2,customOffset:10,currentScale:1,currentTopPosition:0,currentLeftPosition:0,selectMenuOption:1,currentImage:null,dragging:!1,canvas:null,ctx:null,dragStart:null,currentCanvasImage:null,isFullScreen:!1,viewPortElementWidth:null,movementStart:0,movement:!1,dragSpeed:150,speedFactor:13,activeImage:1,stopAtEdges:!1,panmode:!1,currentLoop:0,loopTimeoutId:0,playing:!1,imagesLoaded:!1},t}return o(r,i),r.prototype.componentDidMount=function(){this.disableZoomin(),this.viewerPercentage=this.viewPercentageRef.current,this.viewPortElementRef=this.viewerContainerRef.querySelectorAll(".v360-viewport-container")[0],this.fetchData()},r.prototype.fetchData=function(){for(var t=1;t<=this.props.amount;t++){var e=this.props.paddingIndex?this.lpad(t,"0",2):t,n=this.props.fileName.replace("{index}",e),i="".concat(this.props.imagePath,"/").concat(n);this.imageData.push(i)}this.preloadImages()},r.prototype.lpad=function(t,e,n){for(t=t.toString();t.length<n;)t=e+t;return t},r.prototype.preloadImages=function(){if(this.imageData.length>0)try{for(var t=0,e=this.imageData;t<e.length;t++){var n=e[t];this.addImage(n)}}catch(t){console.error("Something went wrong while loading images: ".concat(t.message))}else console.log("No Images Found")},r.prototype.addImage=function(t){var e=new Image;e.src=t,e.onload=this.onImageLoad.bind(this),e.onerror=this.onImageLoad.bind(this),this.images.push(e)},r.prototype.onImageLoad=function(t){var e=Math.round(this.loadedImages/this.props.amount*100);this.loadedImages+=1,this.updatePercentageInLoader(e),this.loadedImages===this.props.amount?this.onAllImagesLoaded(t):1===this.loadedImages&&console.log("load first image")},r.prototype.updatePercentageInLoader=function(t){this.viewerPercentage.innerHTML=t+"%"},r.prototype.onAllImagesLoaded=function(t){this.setState({imagesLoaded:!0}),this.initData()},r.prototype.initData=function(){this.canvas=this.imageContainerRef,this.ctx=this.canvas.getContext("2d"),this.attachEvents(),this.checkMobile(),this.loadInitialImage(),this.setState({playing:this.props.autoplay})},r.prototype.attachEvents=function(){this.state.panmode?this.bindPanModeEvents():this.bind360ModeEvents()},r.prototype.bindPanModeEvents=function(){this.viewPortElementRef.removeEventListener("touchend",this.touchEnd),this.viewPortElementRef.removeEventListener("touchstart",this.touchStart),this.viewPortElementRef.removeEventListener("touchmove",this.touchMove),this.viewPortElementRef.addEventListener("touchend",this.stopDragging),this.viewPortElementRef.addEventListener("touchstart",this.startDragging),this.viewPortElementRef.addEventListener("touchmove",this.doDragging),this.viewPortElementRef.removeEventListener("mouseup",this.stopMoving),this.viewPortElementRef.removeEventListener("mousedown",this.startMoving),this.viewPortElementRef.removeEventListener("mousemove",this.doMoving),this.viewPortElementRef.addEventListener("mouseup",this.stopDragging),this.viewPortElementRef.addEventListener("mousedown",this.startDragging),this.viewPortElementRef.addEventListener("mousemove",this.doDragging)},r.prototype.bind360ModeEvents=function(){this.viewPortElementRef.removeEventListener("touchend",this.stopDragging),this.viewPortElementRef.removeEventListener("touchstart",this.startDragging),this.viewPortElementRef.removeEventListener("touchmove",this.doDragging),this.viewPortElementRef.addEventListener("touchend",this.touchEnd),this.viewPortElementRef.addEventListener("touchstart",this.touchStart),this.viewPortElementRef.addEventListener("touchmove",this.touchMove),this.viewPortElementRef.removeEventListener("mouseup",this.stopDragging),this.viewPortElementRef.removeEventListener("mousedown",this.startDragging),this.viewPortElementRef.removeEventListener("mousemove",this.doDragging),this.viewPortElementRef.addEventListener("mouseup",this.stopMoving),this.viewPortElementRef.addEventListener("mousedown",this.startMoving),this.viewPortElementRef.addEventListener("mousemove",this.doMoving)},r.prototype.setLastPositions=function(t){this.isMobile?this.setState({lastX:t.touches[0].offsetX||t.touches[0].pageX-this.canvas.offsetLeft,lastY:t.touches[0].offsetY||t.touches[0].pageY-this.canvas.offsetTop}):this.setState({lastX:t.offsetX||t.pageX-this.canvas.offsetLeft,lastY:t.offsetY||t.pageY-this.canvas.offsetTop})},r.prototype.checkMobile=function(){this.isMobile=!(!("ontouchstart"in window)&&!navigator.msMaxTouchPoints)},r.prototype.loadInitialImage=function(){this.currentImage=this.imageData[0],this.setImage()},r.prototype.setImage=function(t){var e=this;if(void 0===t&&(t=!1),this.currentLeftPosition=this.currentTopPosition=0,t){this.currentCanvasImage=this.images[0];var n=this.viewPortElementRef.getBoundingClientRect();this.canvas.width=this.state.isFullScreen?n.width:this.currentCanvasImage.width,this.canvas.height=this.state.isFullScreen?n.height:this.currentCanvasImage.height,this.trackTransforms(this.ctx),this.redraw()}else this.currentCanvasImage=new Image,this.currentCanvasImage.crossOrigin="anonymous",this.currentCanvasImage.src=this.currentImage,this.currentCanvasImage.onload=function(){var t=e.viewPortElementRef.getBoundingClientRect();e.canvas.width=e.state.isFullScreen?t.width:e.currentCanvasImage.width,e.canvas.height=e.state.isFullScreen?t.height:e.currentCanvasImage.height,e.trackTransforms(e.ctx),e.redraw()},this.currentCanvasImage.onerror=function(){console.log("cannot load this image")}},r.prototype.redraw=function(){try{var t=this.ctx.transformedPoint(0,0),e=this.ctx.transformedPoint(this.canvas.width,this.canvas.height),n=this.canvas.width/this.currentCanvasImage.width,i=this.canvas.height/this.currentCanvasImage.height,r=Math.min(n,i),o=(this.canvas.width-this.currentCanvasImage.width*r)/2,s=(this.canvas.height-this.currentCanvasImage.height*r)/2;this.ctx.clearRect(t.x,t.y,e.x-t.x,e.y-t.y),this.centerX=this.currentCanvasImage.width*r/2,this.centerY=this.currentCanvasImage.height*r/2,this.ctx.drawImage(this.currentCanvasImage,this.currentLeftPosition,this.currentTopPosition,this.currentCanvasImage.width,this.currentCanvasImage.height,o,s,this.currentCanvasImage.width*r,this.currentCanvasImage.height*r)}catch(t){this.trackTransforms(this.ctx)}},r.prototype.trackTransforms=function(t){var e=this;return new Promise((function(n){var i=document.createElementNS("http://www.w3.org/2000/svg","svg"),r=i.createSVGMatrix();e.ctx.getTransform=function(){return r};var o=[],s=t.save;e.ctx.save=function(){return o.push(r.translate(0,0)),s.call(e.ctx)};var a=t.restore;e.ctx.restore=function(){return r=o.pop(),a.call(e.ctx)};var c=e.ctx.scale;e.ctx.scale=function(t,n){return r=r.scaleNonUniform(t,n),c.call(e.ctx,t,n)};var u=e.ctx.rotate;e.ctx.rotate=function(t){return r=r.rotate(180*t/Math.PI),u.call(e.ctx,t)};var l=e.ctx.translate;e.ctx.translate=function(t,n){return r=r.translate(t,n),l.call(e.ctx,t,n)};var h=e.ctx.transform;e.ctx.transform=function(t,n,o,s,a,c){var u=i.createSVGMatrix();return u.a=t,u.b=n,u.c=o,u.d=s,u.e=a,u.f=c,r=r.multiply(u),h.call(e.ctx,t,n,o,s,a,c)};var p=e.ctx.setTransform;e.ctx.setTransform=function(t,n,i,o,s,a){return r.a=t,r.b=n,r.c=i,r.d=o,r.e=s,r.f=a,p.call(e.ctx,t,n,i,o,s,a)};var f=i.createSVGPoint();e.ctx.transformedPoint=function(t,e){return f.x=t,f.y=e,f.matrixTransform(r.inverse())},n(e.ctx)}))},r.prototype.turnLeft=function(){this.moveActiveIndexDown(1)},r.prototype.turnRight=function(){this.moveActiveIndexUp(1)},r.prototype.moveActiveIndexUp=function(t){this.stopAtEdges?this.activeImage+t>=this.props.amount?this.activeImage=this.props.amount:this.activeImage+=t:this.activeImage=(this.activeImage+t)%this.props.amount||this.props.amount,this.update()},r.prototype.moveActiveIndexDown=function(t){this.stopAtEdges?this.activeImage-t<=1?this.activeImage=1:this.activeImage-=t:this.activeImage-t<1?this.activeImage=this.props.amount+(this.activeImage-t):this.activeImage-=t,this.update()},r.prototype.update=function(){var t=this.images[this.activeImage-1];this.currentCanvasImage=t,this.redraw()},r.prototype.zoom=function(t){var e=Math.pow(1.01,t);if(e>1?this.currentScale+=e:this.currentScale-e>1?this.currentScale-=e:this.currentScale=1,this.currentScale>1){var n=this.ctx.transformedPoint(this.state.lastX,this.state.lastY);this.ctx.translate(n.x,n.y),this.ctx.scale(e,e),this.ctx.translate(-n.x,-n.y),this.redraw()}},r.prototype.disableZoomin=function(){document.addEventListener("gesturestart",(function(t){t.preventDefault(),document.body.style.zoom=.99})),document.addEventListener("gesturechange",(function(t){t.preventDefault(),document.body.style.zoom=.99})),document.addEventListener("gestureend",(function(t){t.preventDefault(),document.body.style.zoom=1}))},r.prototype.onMove=function(t){if(t-this.movementStart>=this.speedFactor){var e=Math.floor((t-this.movementStart)/this.speedFactor)||1;this.movementStart=t,this.props.spinReverse?this.moveActiveIndexDown(e):this.moveActiveIndexUp(e),this.redraw()}else if(this.movementStart-t>=this.speedFactor){var n=Math.floor((this.movementStart-t)/this.speedFactor)||1;this.movementStart=t,this.props.spinReverse?this.moveActiveIndexUp(n):this.moveActiveIndexDown(n),this.redraw()}},r.prototype.onSpin=function(){(this.state.playing||this.state.loopTimeoutId)&&this.stop()},r.prototype.stop=function(){1===this.activeImage&&this.setState({currentLoop:0}),this.setState({playing:!1}),window.clearTimeout(this.state.loopTimeoutId)},r.prototype.loopImages=function(){var t=this.props.loop?this.props.loop:1;1===this.activeImage?this.state.currentLoop===t?this.stop():(this.setState({currentLoop:this.state.currentLoop+1}),this.next()):this.next()},r.prototype.componentDidUpdate=function(t,e){this.state.currentLeftPosition!==e.currentLeftPosition&&console.log("Left Position Changed"),this.state.panmode!==e.panmode&&this.attachEvents(),this.state.playing!==e.playing&&(this.state.playing?this.play():this.stop()),this.state.isFullScreen!==e.isFullScreen&&(this.state.isFullScreen?(this.viewerContainerRef.classList.add("v360-main"),this.viewerContainerRef.classList.add("v360-fullscreen")):(this.viewerContainerRef.classList.remove("v360-main"),this.viewerContainerRef.classList.remove("v360-fullscreen")),this.setImage())},r.prototype.render=function(){var n=this;return t("div",{children:e("div",s({className:"v360-viewer-container",ref:function(t){n.viewerContainerRef=t},id:"identifier",onWheel:function(t){return n.zoomImage(t)}},{children:[this.state.imagesLoaded?"":e("div",s({className:"v360-viewport"},{children:[t("div",{className:"v360-spinner-grow"}),t("p",{ref:this.viewPercentageRef,className:"v360-percentage-text"})]})),t(X,s({onPinchIn:this.handlePinch,onPinchOut:this.handlePinch,onPinchEnd:this.pinchOut,options:{recognizers:{pinch:{enable:!0}}}},{children:e("div",s({className:"v360-viewport-container v360-viewport"},{children:[t("canvas",{className:"v360-image-container",ref:function(t){n.imageContainerRef=t}}),this.props.boxShadow?t("div",{className:"v360-product-box-shadow"}):""]}))})),t("abbr",s({title:"Fullscreen Toggle"},{children:t("div",s({className:"v360-fullscreen-toggle text-center",onClick:this.toggleFullScreen},{children:t("div",s({className:"dark"===this.props.buttonClass?"v360-fullscreen-toggle-btn text-light":"v360-fullscreen-toggle-btn text-dark"},{children:t("i",{className:this.state.isFullScreen?"fas fa-compress text-lg":"fas fa-expand text-lg"})}))}))})),t("div",s({id:"v360-menu-btns",className:this.props.buttonClass},{children:e("div",s({className:"v360-navigate-btns"},{children:[t(W,{clicked:this.togglePlay,icon:this.state.playing?"fa fa-pause":"fa fa-play"}),t(W,{clicked:this.zoomIn,icon:"fa fa-search-plus"}),t(W,{clicked:this.zoomOut,icon:"fa fa-search-minus"}),this.state.panmode?t(W,{clicked:this.togglePanMode,text:"360"}):t(W,{clicked:this.togglePanMode,icon:"fa fa-hand-paper"}),t(W,{clicked:this.prev,icon:"fa fa-chevron-left"}),t(W,{clicked:this.next,icon:"fa fa-chevron-right"}),t(W,{clicked:this.resetPosition,icon:"fa fa-sync"})]}))}))]}))})},r}(i);export{V as default};
//# sourceMappingURL=index.js.map
